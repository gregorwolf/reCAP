/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/changeHandler/BaseAddXml"],function(e){"use strict";var n={};function t(e){var n=e.index;if(e.referencedExtensionPoint){n+=t(e.referencedExtensionPoint)}return n}n.applyChange=function(n,i,o){var r=o.view;var a=o.modifier;var f=n.getDefinition().selector;var s=n.getExtensionPointInfo&&n.getExtensionPointInfo()||a.getExtensionPointInfo(f.name,r);if(!s){throw new Error("AddXMLAtExtensionPoint-Error: Either no Extension-Point found by name '"+(f&&f.name)+"' or multiple Extension-Points available with the given name in the view (view.id='"+(r&&a.getId(r))+"'). Multiple Extension-points with the same name in one view are not supported!")}(s.defaultContent||[]).forEach(function(e){if(e){a.destroy(e)}});s.defaultContent=[];s.index=t(s);if(a.targets==="xmlTree"){s.skipAdjustIndex=true}var d=e.applyChange(n,i,o,s);if(s.ready){s.ready(d)}return true};n.revertChange=e.revertChange;n.completeChangeContent=function(n,t){e.completeChangeContent(n,t)};return n},true);