/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/support/supportRules/RuleSerializer","sap/ui/support/supportRules/Constants"],function(e,t){"use strict";function n(e){return window.btoa(unescape(encodeURIComponent(e)))}function E(e){return decodeURIComponent(escape(window.atob(e)))}var o=localStorage,r={get cookie(){return document.cookie},set cookie(e){document.cookie=e}};return{getRules:function(){var n=[],r;try{r=o.getItem(t.LOCAL_STORAGE_TEMP_RULES_KEY);if(!r){return null}n=JSON.parse(E(r));n=n.map(function(t){return e.deserialize(t,true)})}catch(e){}return n},setRules:function(e){var E=n(JSON.stringify(e));o.setItem(t.LOCAL_STORAGE_TEMP_RULES_KEY,E)},getSelectedRules:function(){var e=o.getItem(t.LOCAL_STORAGE_SELECTED_RULES_KEY);if(!e){return null}return JSON.parse(e)},setSelectedRules:function(e){o.setItem(t.LOCAL_STORAGE_SELECTED_RULES_KEY,JSON.stringify(e))},setSelectedContext:function(e){o.setItem(t.LOCAL_STORAGE_SELECTED_CONTEXT_KEY,JSON.stringify(e))},getSelectedContext:function(){return JSON.parse(o.getItem(t.LOCAL_STORAGE_SELECTED_CONTEXT_KEY))},setSelectedScopeComponents:function(e){o.setItem(t.LOCAL_STORAGE_SELECTED_CONTEXT_COMPONENT_KEY,JSON.stringify(e))},getSelectedScopeComponents:function(){var e=o.getItem(t.LOCAL_STORAGE_SELECTED_CONTEXT_COMPONENT_KEY);return JSON.parse(e)},removeSelectedRules:function(e){this.setRules(e)},setVisibleColumns:function(e){o.setItem(t.LOCAL_STORAGE_SELECTED_VISIBLE_COLUMN_KEY,JSON.stringify(e))},getVisibleColumns:function(){return JSON.parse(o.getItem(t.LOCAL_STORAGE_SELECTED_VISIBLE_COLUMN_KEY))},getSelectionPresets:function(){return JSON.parse(o.getItem(t.LOCAL_STORAGE_SELECTION_PRESETS_KEY))},getCustomPresets:function(){return JSON.parse(o.getItem(t.LOCAL_STORAGE_CUSTOM_PRESETS_KEY))},setSelectionPresets:function(e){o.setItem(t.LOCAL_STORAGE_SELECTION_PRESETS_KEY,JSON.stringify(e))},setCustomPresets:function(e){o.setItem(t.LOCAL_STORAGE_CUSTOM_PRESETS_KEY,JSON.stringify(e))},removeAllData:function(){o.removeItem(t.LOCAL_STORAGE_TEMP_RULES_KEY);o.removeItem(t.LOCAL_STORAGE_SELECTED_RULES_KEY);o.removeItem(t.LOCAL_STORAGE_SELECTED_CONTEXT_KEY);o.removeItem(t.LOCAL_STORAGE_SELECTED_CONTEXT_COMPONENT_KEY);o.removeItem(t.LOCAL_STORAGE_SELECTED_VISIBLE_COLUMN_KEY);o.removeItem(t.LOCAL_STORAGE_SELECTION_PRESETS_KEY);o.removeItem(t.LOCAL_STORAGE_CUSTOM_PRESETS_KEY)},createPersistenceCookie:function(e,t){r.cookie=e+"="+t},readPersistenceCookie:function(e){var t=e+"=",n=decodeURIComponent(r.cookie),E=n.split(";"),o="";for(var _=0;_<E.length;_++){var S=E[_];while(S.charAt(0)==" "){S=S.substring(1)}if(S.indexOf(t)==0){o=S.substring(t.length,S.length);return o}}return o},deletePersistenceCookie:function(e){r.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},_setStorage:function(e){o=e},_getStorage:function(){return o},_setCookieInterface:function(e){r=e},_getCookieInterface:function(){return r}}},true);