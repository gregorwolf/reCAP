/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
(function(){"use strict";var e=[],t=/[()]/g,n=c(),r=[],i,a=/\w/;function s(e,t,n,i){if(t>=0){if(n){r[e].branchTracking[t].truthy+=1}else{r[e].branchTracking[t].falsy+=1}}if(i>=0){d(e,i)}return n}function o(e,t,n){var r=parseInt(e.getAttribute(t));return r>0?r:n}function c(){var e,t=document.getElementsByTagName("script"),n,r;for(n=0,r=t.length;n<r;n+=1){e=t[n];if(/BranchTracking.js$/.test(e.getAttribute("src"))){return e}}}function u(t,n){var i=blanket.options("branchTracking"),a=false,s,o=e.length,c=t.inputFileName,u,l=t.inputFile,f;if(l.indexOf("// sap-ui-cover-browser msie")>=0){a=true;s=sap.ui.require("sap/ui/Device");if(s&&s.browser.msie){s=undefined}}e.push(c);r[o]=_$blanket[c]=[];if(i){_$blanket[c].branchTracking=[]}_$blanket[c].source=l.split("\n");_$blanket[c].source.unshift("");_$blanket[c].warnings=[];f=""+falafel(l,{attachComment:a,comment:a,loc:true,range:true,source:l},h.bind(null,i,o,s));u=f.split("\n").length+1;if(u!==_$blanket[c].source.length){p(c,"Line length mismatch! "+_$blanket[c].source.length+" vs. "+u)}n(f)}function l(e,t){if(!("$ignored"in t)){if(t.parent&&l(e,t.parent)){t.$ignored=true}else{t.$ignored=t.type==="BlockStatement"&&f(e,t)}}return t.$ignored}function f(e,t){function n(t){return t.type==="Line"&&t.value===" sap-ui-cover-browser msie"&&!(e&&e.browser.msie)}return t.body[0]&&t.body[0].leadingComments&&t.body[0].leadingComments.some(n)}function d(e,t){r[e][t]+=1}function h(e,n,i,s){var o=r[n],c=o.branchTracking,u=s.loc.start.line,d;function h(){s.update("blanket.$l("+n+", "+u+"); "+s.source());b();return true}function b(){if(u in o){p(n,"Multiple statements on same line detected"+" â€“ minified code not supported! Line number "+u)}o[u]=0}function g(){return s.loc.source.slice(s.left.range[1],s.right.range[0]).replace(t,"")}if(i&&l(i,s)){return false}switch(s.type){case"FunctionDeclaration":case"FunctionExpression":if(s.body.body[0]&&u===s.body.body[0].loc.start.line){p(n,"Function body must not start on same line! Line number "+u)}break;default:}switch(s.type){case"AssignmentExpression":case"ArrayExpression":case"BlockStatement":case"BinaryExpression":case"Block":case"CallExpression":case"CatchClause":case"DebuggerStatement":case"EmptyStatement":case"FunctionExpression":case"Identifier":case"Line":case"Literal":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"Program":case"Property":case"SequenceExpression":case"SwitchCase":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":case"VariableDeclarator":return false;case"ConditionalExpression":if(!e){return false}s.test.update("blanket.$b("+n+", "+c.length+", "+s.test.source()+")");c.push({alternate:s.alternate.loc,consequent:s.consequent.loc,falsy:0,truthy:0});return true;case"ExpressionStatement":if(s.expression.type==="Literal"&&s.expression.value==="use strict"){return false}case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":case"WithStatement":case"BreakStatement":case"ContinueStatement":case"FunctionDeclaration":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":return h(s);case"IfStatement":if(f(undefined,s.consequent)){e=false}s.test.update("blanket.$b("+n+", "+(e?c.length:-1)+", "+s.test.source()+", "+u+")");b();if(e){c.push({alternate:(s.alternate||s.test).loc,consequent:s.consequent.loc,falsy:0,truthy:0})}return true;case"LogicalExpression":if(!e){return false}if(s.operator==="||"||s.operator==="&&"){d="blanket.$b("+n+", "+c.length+", "+s.left.source()+") "+g()+" ("+s.right.source()+")";if(!a.test(s.loc.source[s.range[0]])){d=" "+d}s.update(d);c.push({alternate:s.operator==="&&"?s.left.loc:s.right.loc,consequent:s.operator==="&&"?s.right.loc:s.left.loc,falsy:0,truthy:0})}return true;case"VariableDeclaration":if(s.parent.type==="ForInStatement"||s.parent.type==="ForStatement"){return false}return h(s);case"LabeledStatement":default:throw new Error(s.source())}}function p(t,n){var r=typeof t==="string"?t:e[t];jQuery.sap.log.warning(n,r,"sap.ui.test.BranchTracking");_$blanket[r].warnings.push(n)}function b(){var e={},t=[],n;QUnit.begin(function(t){n=t.modules.length;t.modules.forEach(function(t){e[t.name]=t})});QUnit.moduleStart(function(n){t=t.concat(Object.keys(e).filter(function(t){return e[t].tests===n.tests}))});return function(){return t.length<n?t:undefined}}if(window.blanket){window._$blanket={};blanket.$b=s;blanket.$l=d;blanket.instrument=u;var g=b(),m=o(n,"data-lines-of-context",3);i=Math.min(o(n,"data-threshold",0),100);sap.ui.require(["sap/ui/test/BlanketReporter"],function(e){blanket.options("reporter",e.bind(null,m,i,g))})}var k,y="sap.ui.base.SyncPromise",$={},w,v,S=0,E,x={},j=new Map;function T(e,t){var n,r=_$blanket[e.$currentFileName],i=$[e.$currentFileName],a;if(e.$oldHits){a=Object.keys(r).filter(function(t){return!(i&&i[t])&&r[t]===e.$oldHits[t]});t.notOk(a.length,"Some lines have not been covered by this module in isolation: "+a)}if(e.$oldBranchTracking){n=Object.keys(r.branchTracking).filter(function(t){return r.branchTracking[t].falsy===e.$oldBranchTracking[t].falsy||r.branchTracking[t].truthy===e.$oldBranchTracking[t].truthy});t.notOk(n.length,"Some branches have not been fully covered by this module in isolation: "+n)}}function Q(e){var t,n=Object.keys(x).length+(j?j.size:0),r="Uncaught (in promise): "+n+" times\n",i,a,s,o;if(n){for(t in x){i=x[t];if(i.getResult()&&i.getResult().stack){r+=i.getResult().stack}else{r+=i.getResult()}if(i.$error.stack){r+="\n>>> SyncPromise rejected with above reason...\n"+i.$error.stack.split("\n").slice(2).join("\n")}r+="\n\n"}x={};if(j&&j.size){o=j.values();for(;;){s=o.next();if(s.done){break}a=s.value;r+=(a&&a.stack||a)+"\n\n"}j.clear()}if(e){e(r)}else if(k){jQuery.sap.log.info("Clearing "+n+" uncaught promises",r,y)}}}if(n.getAttribute("data-uncaught-in-promise")!=="true"){window.addEventListener("unhandledrejection",function(e){if(e.reason&&e.reason.$uncaughtInPromise){return}if(j){j.set(e.promise,e.reason);e.preventDefault()}else{alert("Uncaught (in promise) "+e.reason)}});window.addEventListener("rejectionhandled",function(e){if(j){j.delete(e.promise)}})}function _(e,t){if(t){delete x[e.$id];if(k){jQuery.sap.log.info("Promise "+e.$id+" caught",Object.keys(x),y)}return}e.$id=S++;e.$error=new Error;x[e.$id]=e;if(k){jQuery.sap.log.info("Promise "+e.$id+" rejected with "+e.getResult(),Object.keys(x),y)}}function F(e,t){var n,r,a,s;t=t||{};n=t.after||function(){};r=t.afterEach||function(){};a=t.before||function(){};s=t.beforeEach||function(){};t.after=function(e){if(window.blanket&&!w&&!E&&!this.__ignoreIsolatedCoverage__&&i>=100&&!e.test.module.stats.bad){T(this,e)}return n.apply(this,arguments)};t.afterEach=function(e){var t=Q.bind(null,e.ok.bind(e,false));function n(e){t();throw e}function i(e){if(e&&typeof e.then==="function"){return e.then(i,n)}t();return e}try{return i(r.apply(this,arguments))}catch(e){n(e)}};t.before=function(e){var t;this.$currentFileName=jQuery.sap.getResourceName(e.test.module.name);t=window.blanket&&_$blanket[this.$currentFileName];if(t){this.$oldHits=t.slice();if(t.branchTracking){this.$oldBranchTracking=JSON.parse(JSON.stringify(t.branchTracking,["falsy","truthy"]))}t.warnings.forEach(function(t){e.ok(false,t)})}return a.apply(this,arguments)};t.beforeEach=function(e){Q();return s.apply(this,arguments)};v(e,t)}if(QUnit.module!==F){v=QUnit.module.bind(QUnit);QUnit.module=F;sap.ui.require(["sap/base/Log","sap/base/util/UriParameters","sap/ui/base/SyncPromise"],function(e,t,n){var r=t.fromQuery(window.location.search);k=e.isLoggable(e.Level.INFO,y);w=r.get("filter");E=r.get("testId");n.listener=_});QUnit.begin(function(){var e,t;jQuery("#qunit-modulefilter-dropdown-list").css("max-height","none");jQuery("#qunit-modulefilter-dropdown").on("click",function(e){if(e.target.tagName==="LABEL"){setTimeout(function(){jQuery("#qunit-modulefilter-actions").children().first().trigger("click")})}});if(window.blanket){for(e in _$blanket){t=_$blanket[e];$[e]=t.slice()}}});QUnit.done(function(){j=null})}})();