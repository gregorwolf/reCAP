/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/FlexControllerFactory","sap/ui/core/Component","sap/ui/fl/registry/ChangeHandlerRegistration","sap/ui/fl/ChangePersistenceFactory","sap/ui/core/mvc/Controller","sap/ui/core/mvc/XMLView","sap/ui/core/ExtensionPoint","sap/ui/fl/EventHistory","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/apply/_internal/changes/descriptor/Preprocessor","sap/ui/fl/PreprocessorImpl","sap/ui/fl/XmlPreprocessorImpl"],function(e,n,r,i,s,o,t,a,l,p){"use strict";var f={};function u(){n._fnOnInstanceCreated=e.getChangesAndPropagate}function c(){r.registerPredefinedChangeHandlers();r.getChangeHandlersOfLoadedLibsAndRegisterOnNewLoadedLibs()}function d(){n._fnLoadComponentCallback=i._onLoadComponent.bind(i)}function g(){s.registerExtensionProvider("sap.ui.fl.PreprocessorImpl")}function P(){if(o.registerPreprocessor){o.registerPreprocessor("viewxml","sap.ui.fl.XmlPreprocessorImpl",true)}}function C(){a.start()}function m(){n._fnPreprocessManifest=p.preprocessManifest}function x(e){if(l.isFlexExtensionPointHandlingEnabled(e)){return"sap/ui/fl/apply/_internal/extensionPoint/Processor"}if(sap.ui.getCore().getConfiguration().getDesignMode()){return"sap/ui/fl/write/_internal/extensionPoint/Processor"}return undefined}function _(){t.registerExtensionProvider(x)}f.registerAll=function(){C();c();d();g();u();P();m();_()};return f},true);